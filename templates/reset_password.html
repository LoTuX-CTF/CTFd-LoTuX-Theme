{% extends "base.html" %}

{% block stylesheets %}
{% endblock %}

{% block content %}
<div class="jumbotron">
	<div class="container">
		<h1 class="text-light">Reset Password</h1>
	</div>
</div>
<div class="container">
	<div class="row">
		<div class="col-md-6 offset-md-3">
			{% include "components/errors.html" %}

			{% if mode == "set" %}
				{% with form = Forms.auth.ResetPasswordForm() %}
				<form method="post" accept-charset="utf-8" autocomplete="off" role="form" class="form-horizontal">
					<div class="row">
						<div class="col-md-12">
							<p>You can now reset the password for your account and log in. Please enter in a new password below.</p>
						</div>
					</div>
					<div class="mb-3">
						<b>{{ form.password.label }}</b>
						<div class="input-group">
							<div class="input-group-prepend">
								<span class="input-group-text">#</span>
							</div>
							{{ form.password(class="form-control", value=password, placeholder="Make sure nobody's behind you :)") }}
						</div>
					</div>
					<div class="row">
						<div class="col-md-6 offset-md-6">
							{{ form.submit(class="btn btn-md btn-primary float-right") }}
						</div>
					</div>
					{{ form.nonce() }}
				</form>
				{% endwith %}
			{% else %}
				{% with form = Forms.auth.ResetPasswordRequestForm() %}
				<form method="post" accept-charset="utf-8" autocomplete="off" role="form" class="form-horizontal">
					<div class="row">
						<div class="col-md-12">
							<p>Please provide the email address associated with your account below.</p>
						</div>
					</div>
					<div class="mb-3">
						<b>{{ form.email.label }}</b>
						<div class="input-group">
							<div class="input-group-prepend">
								<span class="input-group-text">$</span>
							</div>
							{{ form.email(class="form-control", value=email, placeholder="you@example.com") }}
						</div>
					</div>
					<div class="row">
						<div class="col-md-6 offset-md-6">
						{{ form.submit(class="btn btn-outline-success btn-shadow btn-lg float-right") }}
						</div>
					</div>
					{{ form.nonce() }}
				</form>
				{% endwith %}
			{% endif %}
		</div>
	</div>
</div>
{% endblock %}

{% block scripts %}
{% endblock %}
